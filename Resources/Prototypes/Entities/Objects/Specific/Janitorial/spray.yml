# SPDX-FileCopyrightText: 2021, 2023 metalgearsloth <31366439+metalgearsloth@users.noreply.github.com>
# SPDX-FileCopyrightText: 2021-2022 Vera Aguilera Puerto <gradientvera@outlook.com>
# SPDX-FileCopyrightText: 2021 Leon Friedrich <60421075+ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 2021 Ygg01 <y.laughing.man.y@gmail.com>
# SPDX-FileCopyrightText: 2021 mirrorcult <lunarautomaton6@gmail.com>
# SPDX-FileCopyrightText: 2021 Swept <sweptwastaken@protonmail.com>
# SPDX-FileCopyrightText: 2021 Galactic Chimp <GalacticChimpanzee@gmail.com>
# SPDX-FileCopyrightText: 2021 Acruid <shatter66@gmail.com>
# SPDX-FileCopyrightText: 2022 rolfero <45628623+rolfero@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 Jessica M <jessica@jessicamaybe.com>
# SPDX-FileCopyrightText: 2022 Kara <lunarautomaton6@gmail.com>
# SPDX-FileCopyrightText: 2022 Jacob Tong <10494922+ShadowCommander@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 Rane <60792108+Elijahrane@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 Psychpsyo <60073468+Psychpsyo@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 lzk <124214523+lzk228@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 Nemanja <98561806+EmoGarbage404@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 Slava0135 <40753025+Slava0135@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 TemporalOroboros <TemporalOroboros@gmail.com>
# SPDX-FileCopyrightText: 2024-2025 Pieter-Jan Briers <pieterjan.briers+git@gmail.com>
# SPDX-FileCopyrightText: 2024 Plykiya <58439124+Plykiya@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Rio <110139251+Riolume@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Debug <49997488+DebugOk@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Blazeror <154933882+Blazeror@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 AJCM-git <60196617+AJCM-git@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Nox <nebulousnox38@gmail.com>
# SPDX-FileCopyrightText: 2025 beck-thompson <107373427+beck-thompson@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 slarticodefast <161409025+slarticodefast@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 ƒÅda <ss.adasts@gmail.com>
# SPDX-FileCopyrightText: 2025 ArtisticRoomba <145879011+ArtisticRoomba@users.noreply.github.com>
# SPDX-FileCopyrightText: 2026 chaisftw <30545471+chaisftw@users.noreply.github.com>
# SPDX-FileCopyrightText: 2026 ScarKy0 <106310278+ScarKy0@users.noreply.github.com>
# SPDX-License-Identifier: MIT

- type: entity
  abstract: true
  parent: [ DrinkBaseMaterialPlastic, DrinkBase ]
  id: SprayBottleBase
  components:
  - type: Edible
    edible: Drink
    solution: drink
    transferAmount: 10
    useSound:
      path: /Audio/Effects/spray3.ogg
      params:
        variation: 0.2
  - type: Tag
    tags:
    - Spray
    - Trash
  - type: Sprite
    sprite: Objects/Specific/Janitorial/spray_bottle.rsi
    state: cleaner
  - type: Item
    sprite: Objects/Specific/Janitorial/spray_bottle.rsi
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 100
  - type: UseDelay
  - type: Spray
    solution: drink
    transferAmount: 10
    sprayVelocity: 2
    spraySound:
      path: /Audio/Effects/spray2.ogg
  - type: TrashOnSolutionEmpty
    solution: drink

- type: entity
  parent: [ SprayBottleBase, DrinkVisualsFill ]
  id: SprayBottle
  name: spray bottle
  suffix: Empty
  description: A spray bottle with an unscrewable top.
  components:
  - type: Sprite
    sprite: Objects/Specific/Janitorial/spray_bottle.rsi
    layers:
    - state: cleaner
    - state: cleaner-fill-1
      map: ["enum.SolutionContainerLayers.Fill"]
      visible: false
  - type: SolutionContainerVisuals
    fillBaseName: cleaner-fill-
    inHandsMaxFillLevels: 4

- type: entity
  parent: SprayBottle
  id: MegaSprayBottle
  name: mega spray bottle
  suffix: Empty
  description: A huge spray bottle, capable of unrivaled janitorial power.
  components:
  - type: Sprite
    sprite: Objects/Specific/Janitorial/spray_bottle.rsi
    layers:
    - state: cleaner_large
    - state: cleaner_large-fill-1
      map: ["enum.SolutionContainerLayers.Fill"]
      visible: false
  - type: SolutionContainerVisuals
    maxFillLevels: 7
    fillBaseName: cleaner_large-fill-
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 250
  - type: Spray
    transferAmount: 15
    sprayedPrototype: BigVapor
    sprayVelocity: 3
    sprayDistance: 4.5
    spraySound:
      path: /Audio/Effects/spray2.ogg

- type: entity
  parent: SprayBottle
  id: SprayBottleWater
  name: spray bottle
  suffix: Filled
  components:
  - type: Tag
    tags:
    - Spray
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 100
        reagents:
        - ReagentId: Water
          Quantity: 100

- type: entity
  parent: SprayBottle
  id: SprayBottleSpaceCleaner
  suffix: Space Cleaner
  description: BLAM!-brand non-foaming space cleaner!
  components:
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 100
        reagents:
        - ReagentId: SpaceCleaner
          Quantity: 100
  - type: Label
    currentLabel: space cleaner
  - type: Tag
    tags:
      - Spray

- type: entity
  parent: MegaSprayBottle
  id: MegaSprayBottleSpaceCleaner
  suffix: Space Cleaner
  description: BLAM!-brand non-foaming space cleaner, now in a bigger package for those huge blood puddles!
  components:
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 250
        reagents:
        - ReagentId: SpaceCleaner
          Quantity: 250
  - type: Label
    currentLabel: space cleaner

- type: entity
  parent: SprayBottle
  id: BorgSprayBottle
  name: internal spray jet
  suffix: Filled
  description: A pressurized vessel for spraying reagents, installed directly into a custodial cyborg. Typically filled with space cleaner for dealing with those nasty spills.
  components:
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 200
        reagents:
        - ReagentId: SpaceCleaner
          Quantity: 200

- type: entity
  parent: MegaSprayBottle
  id: BorgMegaSprayBottle
  name: adv. internal spray jet
  suffix: Filled
  description: An upgraded version of the integrated spray bottle, installed directly into a custodial cyborg. This one is capable of creating space cleaner from moisture in the air.
  components:
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 250
        reagents:
        - ReagentId: SpaceCleaner
          Quantity: 250
  - type: SolutionTransfer
    canSend: false # No giving away infinite space cleaner!
  - type: SolutionRegeneration
    solution: drink
    generated:
      reagents:
      - ReagentId: SpaceCleaner
        Quantity: 1

# Vapor
- type: entity
  id: Vapor
  categories: [ HideSpawnMenu ]
  name: "vapor"
  components:
  - type: SolutionContainerManager
    solutions:
      vapor:
        maxVol: 50
  - type: Vapor
    active: true
    transferAmountPercentage: 0.5
  - type: AnimationPlayer
  - type: Sprite
    sprite: Effects/chempuff.rsi
    rotation: 180
    layers:
    - state: chempuff
      map: ["enum.VaporVisualLayers.Base"]
  - type: Physics
    bodyType: Dynamic
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.25,0.25,0.25"
        hard: false
        mask:
        - FullTileMask
        - Opaque
        layer:
        - ItemMask
  - type: Appearance
  - type: VaporVisuals

- type: entity
  parent: Vapor
  id: BigVapor
  categories: [ HideSpawnMenu ]
  components:
  - type: Sprite
    sprite: Effects/chempuff.rsi
    rotation: 180
    layers:
    - state: chempuff
      scale: 2, 2
      map: ["enum.VaporVisualLayers.Base"]
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.6,-0.6,0.6,0.6"
        hard: false
        mask:
        - FullTileMask
        - Opaque

- type: entity
  parent: Vapor
  id: FlowerVapor
  categories: [ HideSpawnMenu ]
  components:
  - type: Sprite
    sprite: Effects/extinguisherSpray.rsi
    layers:
    - state: extinguish
      map: [ "enum.VaporVisualLayers.Base" ]
  - type: VaporVisuals
    animationTime: 0.8
    animationState: extinguish
