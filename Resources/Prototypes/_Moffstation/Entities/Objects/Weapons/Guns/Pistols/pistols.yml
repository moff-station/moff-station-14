- type: entity # Used for personal items which replace the Mk58 pistol.
  parent: WeaponPistolMk58
  id: BaseWeaponPersonalItemPistol
  abstract: true

- type: entity
  parent: [BaseStorageItem, BaseBagOpenClose]
  id: BasePersonalItemPistolCase
  name: pistol case
  abstract: true
  components:
  - type: Sprite
    sprite: _Moffstation\PersonalItems\Items\Nox38\Stella-Fischer\stella-case.rsi
    layers:
    - state: closed
      map: ["closeLayer"]
    - state: open
      map: ["openLayer"]
  - type: Item
    sprite: _Moffstation\PersonalItems\Items\Nox38\Stella-Fischer\stella-case.rsi
    size: Normal
  - type: Storage
    grid:
    - 0,0,1,0
    - 0,1,0,1

- type: entity # Used by detectives and mercenaries as an alternative to the Inspector revolver.
  parent: [BaseWeaponPistol, BaseSecurityContraband]
  id: WeaponPistolPM
  name: Makarov PM
  description: "Formally 'Pistolet Makarova', the PM is an ancient semi-automatic pistol commonly seen on the civilian market. Its heavy double-action trigger improves drop safety at the expense of fire rate.\nFeeds from .35 pistol magazines."
  components:
  - type: Sprite
    sprite: _Moffstation/Objects/Weapons/Guns/Pistols/pm.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-0
      map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: _Moffstation/Objects/Weapons/Guns/Pistols/pm.rsi
  - type: Item
    storedOffset: 0,-4
  - type: Gun
    fireRate: 4.5 # Heavy trigger makes it difficult to fire quickly.
    fireOnLandChance: 0 # Heavy trigger protects from uncommanded discharges.
    availableModes:
    - SemiAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/pistol.ogg
  - type: StealTarget
    stealGroup: OfficerHandgun
