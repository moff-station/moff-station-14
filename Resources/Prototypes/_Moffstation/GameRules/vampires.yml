- type: entity
  parent: BaseGameRule
  id: Vampire
  components:
  - type: GameRule
    minPlayers: 25
  - type: VampireRule
  - type: AntagSelection
    selectionTime: IntraPlayerSpawn
    definitions:
    - prefRoles: [ Vampire ]
      max: 1
      briefing:
        text: roles-antag-vampire-briefing
        color: Crimson
        sound: "/Audio/_Moffstation/Ambience/Antags/vampire_start.ogg"
      lateJoinAdditional: true
      allowNonHumans: true
      components:
      - type: Vampire
      - type: BloodEssenceUser
        bloodWhitelist:
        - Blood
        - InsectBlood
        - Slime
        - Sap
        - CopperBlood
        - AmmoniaBlood
        - ZombieBlood
      - type: Damageable
        damageContainer: BiologicalMetaphysical
        damageModifierSet: Vampire
      - type: BurnedBySun
        tileBlacklist:
        - Lattice
        - TrainLattice
        - Space
        damage:
          type:
            Heat: 5
      - type: OrganSwap
        organSwaps:
          heart: OrganVampireHeart
          lungs: OrganVampireLungs
          stomach: OrganVampireStomach
          core: OrganVampireHeart # Slime cores
      - type: Store
        name: vampire-store-name
        categories:
        - VampireAbilitiesBasic
        - VampireAbilitiesGargantua
        - VampireAbilitiesHaemomancer
        - VampireAbilitiesUmbrae
        - VampireAbilitiesDantalion
        currencyWhitelist:
        - BloodEssence
        balance:
          BloodEssence: 0
      - type: UserInterface
        interfaces:
          enum.StoreUiKey.Key:
            type: StoreBoundUserInterface
      - type: BloodConsumption
        healPerUpdate:
          types:
            Holy: -0.1
          groups:
            Brute: -0.5
            Burn: -0.2
            Airloss: -1.0
            Toxin: -0.5
            Genetic: -0.5
      - type: Bloodstream
        bloodReagent: Blood # Make all species use regular blood.
        bleedReductionAmount: 1.0
        maxBleedAmount: 0.0
        bleedPuddleThreshold: 100.0
        bloodlossThreshold: 0.02
        bloodlossDamage:
          types:
            Bloodloss: 0.1 # if they're out of blood they're taking bloodloss damage
        bloodlossHealDamage:
          types:
            Bloodloss: -1.0
        bloodRefreshAmount: 0.0 # Gets handled by the BloodConsumptionSystem
      mindRoles:
      - MindRoleVampire
