# Player: Nox38 - Character: Stella Fischer
# License: CC-BY-SA-4.0
- type: entity
  parent: BaseWeaponPersonalItemPistol
  id: PersonalItemStellaPistol
  name: Mk9 custom
  description: "A limited-production Mk9 NIGHTHAWK pistol, customized with a red dot sight, compensator, and laser pointer. Despite not appearing damaged, the grip is wrapped in blue tape.\nFeeds from .35 pistol magazines." # Description references real-life weapon's name: PX-9 NIGHTSTALKER.
  suffix: PersonalItem
  components:
  - type: Sprite
    sprite: _Moffstation/PersonalItems/Items/Nox38/Stella-Fischer/stella-pistol.rsi
  - type: Clothing
    sprite: _Moffstation/PersonalItems/Items/Nox38/Stella-Fischer/stella-pistol.rsi
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        # No startingItem - spawns unloaded
        insertSound: /Audio/Weapons/Guns/MagIn/pistol_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/pistol_magout.ogg
        priority: 2
        whitelist:
          tags:
            - MagazinePistol
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: Chamber
        # No startingItem - spawns unchambered
        priority: 1
        whitelist:
          tags:
            - CartridgePistol
  - type: Gun
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/atreides.ogg

- type: entity
  parent: [BaseStorageItem, BaseBagOpenClose]
  id: PersonalItemStellaPistolCase
  name: gun case
  description: A slim, portable gun case intended to protect its contents inside.
  suffix: PersonalItem
  components:
  - type: Sprite
    sprite: _Moffstation\PersonalItems\Items\Nox38\Stella-Fischer\stella-case.rsi
    layers:
    - state: closed
      map: ["closeLayer"]
    - state: open
      map: ["openLayer"]
  - type: Item
    sprite: _Moffstation\PersonalItems\Items\Nox38\Stella-Fischer\stella-case.rsi
    size: Normal
  - type: Storage
    grid:
    - 0,0,1,0
    - 0,1,0,1
  - type: EntityTableContainerFill
    containers:
      storagebase:
        id: PersonalItemStellaPistol
        amount: 1

- type: loadout
  id: PersonalItemStellaPistol
  storage:
    back:
    - PersonalItemStellaPistolCase
  effects:
  - !type:PersonalItemLoadoutEffect
    character:
    - Stella Fischer
    jobs:
    - JobSecurityOfficer
    - JobDetective
    - JobWarden
    - JobHeadOfSecurity
